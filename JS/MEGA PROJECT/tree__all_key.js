const data_main = ["VET908-217653"];
const data_component = [
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216630",
        "item_no" : 1,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216630",
        "component_no" : "VET01E-216630A",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216630"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216630A",
        "component_no" : "VET01E-216630B",
        "item_no" : 1,
        "parent_mat_no" : "VET01E-216630A"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216631",
        "item_no" : 2,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216631",
        "component_no" : "VET01E-216631A",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216631"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216631A",
        "component_no" : "VET01E-216630B",
        "item_no" : 2,
        "parent_mat_no" : "VET01E-216631A"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01P-217654",
        "item_no" : 3,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216632",
        "item_no" : 4,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216632",
        "component_no" : "VET01E-216632",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216632"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216632",
        "component_no" : "VET01P-9002111LF",
        "item_no" : 2,
        "parent_mat_no" : "VET01E-216632"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216632",
        "component_no" : "VET01P-9002114LF",
        "item_no" : 3,
        "parent_mat_no" : "VET01E-216632"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216633",
        "item_no" : 5,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216633",
        "component_no" : "VET01E-216633A",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216633"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216633",
        "component_no" : "VET01E-216633B",
        "item_no" : 2,
        "parent_mat_no" : "VET01R-216633"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216633B",
        "component_no" : "VET01E-216633C",
        "item_no" : 1,
        "parent_mat_no" : "VET01E-216633B"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216634",
        "item_no" : 6,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216634",
        "component_no" : "VET01E-216634A",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216634"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216634",
        "component_no" : "VET01E-216633A",
        "item_no" : 2,
        "parent_mat_no" : "VET01R-216634"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216634",
        "component_no" : "VET01E-216633B",
        "item_no" : 3,
        "parent_mat_no" : "VET01R-216634"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216633B",
        "component_no" : "VET01E-216633C",
        "item_no" : 3,
        "parent_mat_no" : "VET01E-216633B"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216634",
        "component_no" : "VET01E-216635A",
        "item_no" : 4,
        "parent_mat_no" : "VET01R-216634"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216635",
        "item_no" : 7,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216635",
        "component_no" : "VET01E-216635A",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216635"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216635",
        "component_no" : "VET01E-216633A",
        "item_no" : 2,
        "parent_mat_no" : "VET01R-216635"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216635",
        "component_no" : "VET01E-216633B",
        "item_no" : 3,
        "parent_mat_no" : "VET01R-216635"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216633B",
        "component_no" : "VET01E-216633C",
        "item_no" : 5,
        "parent_mat_no" : "VET01E-216633B"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-217655",
        "item_no" : 8,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-217655",
        "component_no" : "VET01E-217655",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-217655"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216636",
        "item_no" : 9,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216636",
        "component_no" : "VET01E-216636A",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216636"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216636A",
        "component_no" : "VET01P-9002111LF",
        "item_no" : 2,
        "parent_mat_no" : "VET01E-216636A"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216636",
        "component_no" : "VET01E-216636B",
        "item_no" : 2,
        "parent_mat_no" : "VET01R-216636"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216637",
        "item_no" : 10,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216637",
        "component_no" : "VET01E-216637",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216637"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216638",
        "item_no" : 11,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216638",
        "component_no" : "VET01E-216638",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216638"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216638",
        "component_no" : "VET01P-9002114LF",
        "item_no" : 3,
        "parent_mat_no" : "VET01E-216638"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-216639",
        "item_no" : 12,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-216639",
        "component_no" : "VET01E-216639",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-216639"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01E-216639",
        "component_no" : "VET01P-9002112LF",
        "item_no" : 2,
        "parent_mat_no" : "VET01E-216639"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET908-217653",
        "component_no" : "VET01R-217656",
        "item_no" : 13,
        "parent_mat_no" : "VET908-217653"
      },
      {
        "fg_material_no" : "VET908-217653",
        "material_no" : "VET01R-217656",
        "component_no" : "VET01E-217656",
        "item_no" : 1,
        "parent_mat_no" : "VET01R-217656"
      }
    ]

    // Function to build hierarchy
function buildHierarchy(data_main, data_component) {
  const hierarchy = {};

  // Initialize the main items
  data_main.forEach(mainItem => {
      hierarchy[mainItem] = { components: [] };
  });

  // Create a map for easier access to components
  const componentMap = {};

  data_component.forEach(component => {
      const { material_no, parent_mat_no } = component;

      // Initialize each component in the map
      componentMap[material_no] = { ...component, components: [] };

      // If the parent exists in hierarchy, add the component to it
      if (hierarchy[parent_mat_no]) {
          hierarchy[parent_mat_no].components.push(componentMap[material_no]);
      } else {
          // If the parent doesn't exist in hierarchy, still add to the map for reference
          componentMap[parent_mat_no] = componentMap[parent_mat_no] || { components: [] };
      }
  });

  return hierarchy;
}

// Build the hierarchy
const result = buildHierarchy(data_main, data_component);
console.log(JSON.stringify(result, null, 2));